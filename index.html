<html>
    <head>
        <link rel="stylesheet" href="node_modules/myscript/dist/myscript.min.css"/>
        <script src="myscript.min.js"></script>
        <script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>
        <style>
            #editor {
                border: #0000 1px;
                border:1px solid #000;
                width: 2cm;
                height: 2cm;
            }
        </style>
    </head>
    <body>
        <h1>This worked</h1>
        <div id="editor" touch-action="none"></div>
        <p id="textbar"></p>
    <script>
        const editorElement = document.getElementById('editor');
        MyScript.register(editorElement, {
            recognitionParams: {
                type: 'TEXT',
                server: {
                    applicationKey: 'd2c81bd7-a32a-4f6c-ac5b-fe6ff8d66a15',
                    hmacKey: '094b7362-bc5e-46fb-a379-85196945e12a'
                }
            }
        });
        var text="";
        editorElement.addEventListener('changed', async function(event) {
          if(document.getElementsByClassName("prompter-text")[0].firstChild==null){

          await setTimeout(function(){

          if(document.getElementsByClassName("prompter-text")[0].firstChild)
          {
              editorElement.editor.clear();
          }

      }, 100);

  }
  else {

      text +=  document.getElementsByClassName("prompter-text")[0].firstChild.innerText;
          console.log("else "+text);
          document.getElementById("textbar").innerText = text;
          editorElement.editor.clear();

  }
          console.log("yay");
          });
    </script>
    </body>
</html>
